## Flutter basics

Flutter allows to write Dart code and compile it to different platforms (web, android, ios, linux, windows).

In the repo you can find:
- `lib` directory, where all `.dart` files are located. This is the only important folder to look at.
- `pubspec.yaml` and `pubspec.lock` files, holding information about dart dependencies.
- gitpod, docker, and git configuration files.
- misterious files  `.metadata` and `flutterchat.iml`, that I would not edit or delete to avoid breaking something.

Note: many other files and folders (e.g. `build/`, `.dart_tool/`) will be generated by flutter, do not edit them!


## Dart cheetsheet

```dart
// Entry Point
void main() {
  print('Hello, Dart!');
}

// Variables
var name = 'Alice'; // Inferred as String
final age = 30;     // Runtime constant
const PI = 3.14;    // Compile-time constant
dynamic value = 42; // Can change type

// String interpolation (works with "" and '')
print("Hello $name!"); // Output: Hello, Alice!
print("Double age is ${age * 2}"); // Output: Double age is 60

// Null Safety
String? nullableName; // Nullable
print(nullableName?.length); // Safe access
print(nullableName!.length); // Assert non-null (caution)

// Type Casting
dynamic value = 'Hello';
String text = value as String; // Explicit cast
print(text); // Output: Hello


// Collections

// List
var numbers = [1, 2, 3];
numbers.add(4);

// Map
var person = {'name': 'Alice', 'age': 30};

// List comprehension-like
var squares = [for (var x in numbers) x * x];


// Cascade Operator ..
var list = []
  ..add(1)
  ..add(2)
  ..add(3);
print(list); // Output: [1, 2, 3]


// Functions with named parameters
void Greet({String name = 'Guest', int? age}) {
  print('Hello $name, age ${age ?? 'unknown'}');
}
Greet(name: "Francesco", age: 18);

// Arrow functions
int add(int a, int b) => a + b;
print(multiply(3, 4)); // Output: 12

// Anonymus functions
(String message) { print(message); };

// Async/Await
Future<String> FetchData() async {
  return await Future.delayed(Duration(seconds: 2), () => 'Data');
}

void main() async {
  var data = await FetchData();
  print(data); // Output: Data
}


// Classes
class Person {
  String name;
  int age;

  Person(this.name, this.age); // Constructor

  void Greet() => print('Hello, $name');
}

var alice = Person('Alice', 30);
alice.Greet();
```

## Flutter cheatsheet

1. **`void main()`**: the starting point of the app.
2. **`StatelessWidget`**: base class for static UI elements.
3. **`StatefulWidget`**: base class for UI elements that change dynamically.
4. **`State`**: base class to hold mutable data and manage UI updates.
5. **`setState()`**: to be called to trigger a rebuild of the UI when the state changes.
6. **`build()`**: defines the UI structure (build widgets into this function).

Example:

```dart
// Entry point of the Flutter app
void main() {

  // Starts the app with the root widget (MyApp)
  runApp(MyApp());
}

// StatefulWidget: Allows the UI to change dynamically
class MyApp extends StatefulWidget {

  // Creates the state for this widget
  @override
  _MyAppState createState() => _MyAppState();
}

// State class for MyApp
class _MyAppState extends State<MyApp> {

  // State variable: Holds data that can change
  int _counter = 0;

  // Method to update the state, called by the button
  void _IncrementCounter() {

    // setState: Notifies Flutter to rebuild the UI
    // use an anonymus function without parameters
    setState(() {
      _counter++; // Update the state variable
    });
  }

  // method that builds the UI
  // and rebuilds at every state change (don't worry Flutter is optimized for that)
  @override
  Widget build(BuildContext context) {

    return MaterialApp(
      home: Scaffold(
        appBar: AppBar(title: Text('Flutter Cheatsheet')), // App bar

        body: Center(
          child: Column(
            mainAxisAlignment: MainAxisAlignment.center,
            children: [

              // Display the counter value
              Text('Counter: $_counter'),

              // Button to increment the counter
              ElevatedButton(
                onPressed: _IncrementCounter, // Calls _incrementCounter on press
                child: Text('Increment'),
              ),
            ],
          ),
        ),
      ),
    );
  }
}
```
